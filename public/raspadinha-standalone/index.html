<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raspadinha da Sorte - OlindAki</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        @keyframes floatHand {

            0%,
            100% {
                transform: translate(-50%, -50%) rotate(0deg);
            }

            50% {
                transform: translate(-50%, -60%) rotate(-10deg);
            }
        }

        @keyframes scaleIn {
            from {
                transform: scale(0.5);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
    </style>
</head>

<body>
    <div class="page-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">‚òÇÔ∏è</div>
                <h1>Raspinha<br>da Sorte</h1>
            </div>
            <div class="header-curved-border"></div>
        </header>

        <main class="main">
            <div class="ticket-section">
                <div class="ticket-label" id="ticket-label">
                    OlindAki ‚Ä¢ #Loading...
                </div>

                <!-- Ticket Container -->
                <div class="scratch-card-container">
                    <div class="grid-container" id="grid-container">
                        <!-- Grid items generated by JS -->
                    </div>

                    <!-- Canvas Layer -->
                    <canvas id="scratch-canvas" class="scratch-canvas"></canvas>

                    <!-- Finger Hint -->
                    <div id="finger-hint" class="finger-hint">
                        üëÜ
                    </div>

                    <!-- Reveal Button (Overlay) -->
                    <div id="btn-overlay" class="btn-overlay" style="display: none;">
                        <button id="reveal-btn" class="reveal-btn">
                            üéÅ VER MEU PR√äMIO!
                        </button>
                    </div>
                </div>

                <div class="timestamp" id="timestamp">
                    --/--/---- ‚Ä¢ --:--
                </div>
            </div>
        </main>

        <!-- Result Modal -->
        <div id="result-modal" class="result-modal-overlay" style="display: none;">
            <div class="result-modal">
                <div class="confetti"></div>

                <!-- Step 1: Claim Prize (Enter Name) -->
                <div id="claim-step" style="display: none;">
                    <h2 class="win-title">PARAB√âNS!</h2>
                    <div class="win-icon">üéâ</div>
                    <p class="win-text">Voc√™ ganhou<br><strong id="prize-label-claim"></strong></p>

                    <div class="input-group">
                        <label>Digite seu Nome:</label>
                        <input type="text" id="user-name-input" placeholder="Seu nome aqui" />
                    </div>

                    <button id="claim-btn" class="primary-btn whatsapp-btn">
                        Validar no WhatsApp üì±
                    </button>
                    <p class="small-hint">Ao clicar, voc√™ enviar√° o pr√™mio para valida√ß√£o.</p>
                </div>

                <!-- Step 2: Validate Prize (Enter Code) -->
                <div id="validate-step" style="display: none;">
                    <h2 class="win-title">VALIDA√á√ÉO</h2>
                    <p class="win-text">Aguardando valida√ß√£o do lojista...</p>
                    <p class="win-sub">Pe√ßa para o dono digitar a senha:</p>

                    <div class="input-group">
                        <input type="password" inputmode="numeric" id="validation-password-input"
                            placeholder="Senha do Lojista" maxlength="6" />
                        <div id="validation-error" style="color: red; display: none; margin-top: 5px;">Senha incorreta!
                        </div>
                    </div>

                    <button id="validate-btn" class="primary-btn">
                        Confirmar Valida√ß√£o
                    </button>
                </div>

                <!-- Step 3: Success (Barcode) -->
                <div id="success-step" style="display: none;">
                    <h2 class="win-title" style="color: #00C853;">VALIDADO!</h2>
                    <div class="win-icon">‚úÖ</div>
                    <p class="win-text">Pr√™mio Liberado:<br><strong id="prize-label-final"></strong></p>
                    <p class="win-sub">Mostre ao caixa:</p>
                    <div class="coupon-code" id="coupon-code"></div>

                    <button class="primary-btn" onclick="window.print()">
                        üñ®Ô∏è Salvar/Imprimir
                    </button>
                    <button id="new-ticket-btn-win" class="secondary-btn">
                        Nova Raspadinha
                    </button>
                </div>

                <!-- Lose Content -->
                <div id="lose-content" style="display: none;">
                    <h2 class="lose-title">Quase l√°...</h2>
                    <div class="lose-icon">üòÖ</div>
                    <p class="lose-text">N√£o foi dessa vez!<br>Mas o carnaval continua.</p>
                    <button id="new-ticket-btn-lose" class="secondary-btn">
                        Nova Raspadinha
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>